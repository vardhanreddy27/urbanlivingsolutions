!function(i){"function"==typeof define&&define.amd?define("viewer",["jquery"],i):"object"==typeof exports?i(require("jquery")):i(jQuery)}(function(i){"use strict";var t=i(window),e=i(document),s=document.createElement("viewer"),n="viewer-fixed",o="viewer-show",a="viewer-hide",h="viewer-hide-xs-down",r="viewer-hide-sm-down",l="viewer-hide-md-down",d="viewer-fade",c="viewer-in",u="viewer-transition",v="mousedown touchstart pointerdown MSPointerDown",m="mouseup touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",w=void 0!==s.style.transition,f=Math.round,g=Math.sqrt,p=Math.abs,b=Math.min,y=Math.max,x=Number;function $(i){return"string"==typeof i}function C(i){return"number"==typeof i&&!isNaN(i)}function z(i){return void 0===i}function F(i,t){var e=[];return C(t)&&e.push(t),e.slice.apply(i,e)}function k(i,t){var e=F(arguments,2);return function(){return i.apply(t,e.concat(F(arguments)))}}function Y(i){return i.offsetWidth}function I(i,t){var e;if(i.naturalWidth)return t(i.naturalWidth,i.naturalHeight);(e=document.createElement("img")).onload=function(){t(this.width,this.height)},e.src=i.src}function X(i){switch(i){case 2:return h;case 3:return r;case 4:return l}}function P(t,e){this.$element=i(t),this.options=i.extend({},P.DEFAULTS,i.isPlainObject(e)&&e),this.isImg=!1,this.isBuilt=!1,this.isShown=!1,this.isViewed=!1,this.isFulled=!1,this.isPlayed=!1,this.wheeling=!1,this.playing=!1,this.fading=!1,this.tooltiping=!1,this.transitioning=!1,this.action=!1,this.target=!1,this.timeout=!1,this.index=0,this.length=0,this.init()}P.prototype={constructor:P,init:function(){var t=this.options,e=this.$element,s=e.is("img"),n=s?e:e.find("img"),o=n.length,a=i.proxy(this.ready,this);o&&(i.isFunction(t.build)&&e.one("build.viewer",t.build),this.trigger("build.viewer").isDefaultPrevented()||(w||(t.transition=!1),this.isImg=s,this.length=o,this.count=0,this.$images=n,this.$body=i("body"),t.inline?(e.one("built.viewer",i.proxy(function(){this.view()},this)),n.each(function(){this.complete?a():i(this).one("load.viewer",a)})):e.on("click.viewer",i.proxy(this.start,this))))},ready:function(){this.count++,this.count===this.length&&this.build()},build:function(){var t,e,s,o,h,r,l=this.options,c=this.$element;this.isBuilt||(this.$parent=t=c.parent(),this.$viewer=e=i(P.TEMPLATE),this.$canvas=e.find(".viewer-canvas"),this.$footer=e.find(".viewer-footer"),this.$title=s=e.find(".viewer-title"),this.$toolbar=o=e.find(".viewer-toolbar"),this.$navbar=h=e.find(".viewer-navbar"),this.$button=r=e.find(".viewer-button"),this.$tooltip=e.find(".viewer-tooltip"),this.$player=e.find(".viewer-player"),this.$list=e.find(".viewer-list"),s.addClass(l.title?X(l.title):a),o.addClass(l.toolbar?X(l.toolbar):a),o.find("li[class*=zoom]").toggleClass("viewer-invisible",!l.zoomable),o.find("li[class*=flip]").toggleClass("viewer-invisible",!l.scalable),l.rotatable||o.find("li[class*=rotate]").addClass("viewer-invisible").appendTo(o),h.addClass(l.navbar?X(l.navbar):a),l.inline?(r.addClass("viewer-fullscreen"),e.css("z-index",l.zIndexInline),"static"===t.css("position")&&t.css("position","relative")):(r.addClass("viewer-close"),e.css("z-index",l.zIndex).addClass([n,d,a].join(" "))),c.after(e),l.inline&&(this.render(),this.bind(),this.isShown=!0),this.isBuilt=!0,i.isFunction(l.built)&&c.one("built.viewer",l.built),this.trigger("built.viewer"))},unbuild:function(){var i=this.options,t=this.$element;this.isBuilt&&(i.inline&&t.removeClass(a),this.$viewer.remove())},bind:function(){var s=this.options,n=this.$element;i.isFunction(s.view)&&n.on("view.viewer",s.view),i.isFunction(s.viewed)&&n.on("viewed.viewer",s.viewed),this.$viewer.on("click.viewer",i.proxy(this.click,this)).on("wheel mousewheel DOMMouseScroll",i.proxy(this.wheel,this)),this.$canvas.on(v,i.proxy(this.mousedown,this)),e.on("mousemove touchmove pointermove MSPointerMove",this._mousemove=k(this.mousemove,this)).on(m,this._mouseup=k(this.mouseup,this)).on("keydown.viewer",this._keydown=k(this.keydown,this)),t.on("resize.viewer",this._resize=k(this.resize,this))},unbind:function(){var s=this.options,n=this.$element;i.isFunction(s.view)&&n.off("view.viewer",s.view),i.isFunction(s.viewed)&&n.off("viewed.viewer",s.viewed),this.$viewer.off("click.viewer",this.click).off("wheel mousewheel DOMMouseScroll",this.wheel),this.$canvas.off(v,this.mousedown),e.off("mousemove touchmove pointermove MSPointerMove",this._mousemove).off(m,this._mouseup).off("keydown.viewer",this._keydown),t.off("resize.viewer",this._resize)},render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initContainer:function(){this.container={width:t.innerWidth(),height:t.innerHeight()}},initViewer:function(){var t,e=this.options,s=this.$parent;e.inline&&(this.parent=t={width:y(s.width(),e.minWidth),height:y(s.height(),e.minHeight)}),!this.isFulled&&t||(t=this.container),this.viewer=i.extend({},t)},renderViewer:function(){this.options.inline&&!this.isFulled&&this.$viewer.css(this.viewer)},initList:function(){var t=this.options,e=this.$element,s=this.$list,n=[];this.$images.each(function(e){var s=this.src,o=this.alt||function(i){return $(i)?i.replace(/^.*\//,"").replace(/[\?&#].*$/,""):""}(s),a=t.url;s&&($(a)?a=this.getAttribute(a):i.isFunction(a)&&(a=a.call(this,this)),n.push('<li><img src="'+s+'" data-action="view" data-index="'+e+'" data-original-url="'+(a||s)+'" alt="'+o+'"></li>'))}),s.html(n.join("")).find("img").one("load.viewer",{filled:!0},i.proxy(this.loadImage,this)),this.$items=s.children(),t.transition&&e.one("viewed.viewer",function(){s.addClass(u)})},renderList:function(i){var t=i||this.index,e=this.$items.eq(t).width(),s=e+1;this.$list.css({width:s*this.length,marginLeft:(this.viewer.width-e)/2-s*t})},resetList:function(){this.$list.empty().removeClass(u).css("margin-left",0)},initImage:function(t){var e=this.options,s=this.$image,n=this.viewer,o=this.$footer.height(),a=n.width,h=y(n.height-o,o),r=this.image||{};I(s[0],i.proxy(function(s,n){var o,l,d=s/n,c=a,u=h;h*d>a?u=a/d:c=h*d,l={naturalWidth:s,naturalHeight:n,aspectRatio:d,ratio:(c=b(.9*c,s))/s,width:c,height:u=b(.9*u,n),left:(a-c)/2,top:(h-u)/2},o=i.extend({},l),e.rotatable&&(l.rotate=r.rotate||0,o.rotate=0),e.scalable&&(l.scaleX=r.scaleX||1,l.scaleY=r.scaleY||1,o.scaleX=1,o.scaleY=1),this.image=l,this.initialImage=o,i.isFunction(t)&&t()},this))},renderImage:function(t){var e,s,n,o,a,h=this.image,r=this.$image;r.css({width:h.width,height:h.height,marginLeft:h.left,marginTop:h.top,transform:(e=h,s=[],n=e.rotate,o=e.scaleX,a=e.scaleY,C(n)&&s.push("rotate("+n+"deg)"),C(o)&&C(a)&&s.push("scale("+o+","+a+")"),s.length?s.join(" "):"none")}),i.isFunction(t)&&(this.transitioning?r.one("transitionend",t):t())},resetImage:function(){this.$image.remove(),this.$image=null},start:function(t){var e=t.target;i(e).is("img")&&(this.target=e,this.show())},click:function(t){var e=i(t.target),s=e.data("action"),n=this.image;switch(s){case"mix":this.isPlayed?this.stop():this.options.inline?this.isFulled?this.exit():this.full():this.hide();break;case"view":this.view(e.data("index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev();break;case"play":this.play();break;case"next":this.next();break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-n.scaleX||-1);break;case"flip-vertical":this.scaleY(-n.scaleY||-1);break;default:this.isPlayed&&this.stop()}},load:function(){var t=this.options,e=this.viewer,s=this.$image;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1),s.removeClass("viewer-invisible").css("cssText","width:0;height:0;margin-left:"+e.width/2+"px;margin-top:"+e.height/2+"px;max-width:none!important;visibility:visible;"),this.initImage(i.proxy(function(){s.toggleClass(u,t.transition).toggleClass("viewer-move",t.movable),this.renderImage(i.proxy(function(){this.isViewed=!0,this.trigger("viewed.viewer")},this))},this))},loadImage:function(t){var e=t.target,s=i(e),n=s.parent(),o=n.width(),a=n.height(),h=t.data&&t.data.filled;I(e,function(i,t){var e=i/t,n=o,r=a;a*e>o?h?n=a*e:r=o/e:h?r=o/e:n=a*e,s.css({width:n,height:r,marginLeft:(o-n)/2,marginTop:(a-r)/2})})},resize:function(){this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.initImage(i.proxy(function(){this.renderImage()},this)),this.isPlayed&&this.$player.find("img").one("load.viewer",i.proxy(this.loadImage,this)).trigger("load.viewer")},wheel:function(t){var e=t.originalEvent||t,s=x(this.options.zoomRatio)||.1,n=1;this.isViewed&&(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(i.proxy(function(){this.wheeling=!1},this),50),e.deltaY?n=e.deltaY>0?1:-1:e.wheelDelta?n=-e.wheelDelta/120:e.detail&&(n=e.detail>0?1:-1),this.zoom(-n*s,!0,t)))},keydown:function(i){var t=this.options,e=i.which;if(this.isFulled&&t.keyboard)switch(e){case 27:this.isPlayed?this.stop():t.inline?this.isFulled&&this.exit():this.hide();break;case 32:this.isPlayed&&this.stop();break;case 37:this.prev();break;case 38:i.preventDefault(),this.zoom(t.zoomRatio,!0);break;case 39:this.next();break;case 40:i.preventDefault(),this.zoom(-t.zoomRatio,!0);break;case 48:case 49:(i.ctrlKey||i.shiftKey)&&(i.preventDefault(),this.toggle())}},mousedown:function(i){var t,e=this.options,s=i.originalEvent,n=s&&s.touches,o=i,a=!!e.movable&&"move";if(this.isViewed){if(n){if((t=n.length)>1){if(!e.zoomable||2!==t)return;o=n[1],this.startX2=o.pageX,this.startY2=o.pageY,a="zoom"}else this.isSwitchable()&&(a="switch");o=n[0]}a&&(i.preventDefault(),this.action=a,this.startX=o.pageX||s&&s.pageX,this.startY=o.pageY||s&&s.pageY)}},mousemove:function(i){var t,e=this.options,s=this.action,n=this.$image,o=i.originalEvent,a=o&&o.touches,h=i;if(this.isViewed){if(a){if((t=a.length)>1){if(!e.zoomable||2!==t)return;h=a[1],this.endX2=h.pageX,this.endY2=h.pageY}h=a[0]}s&&(i.preventDefault(),"move"===s&&e.transition&&n.hasClass(u)&&n.removeClass(u),this.endX=h.pageX||o&&o.pageX,this.endY=h.pageY||o&&o.pageY,this.change(i))}},mouseup:function(i){var t=this.action;t&&(i.preventDefault(),"move"===t&&this.options.transition&&this.$image.addClass(u),this.action=!1)},show:function(){var t,e=this.options;e.inline||this.transitioning||(this.isBuilt||this.build(),i.isFunction(e.show)&&this.$element.one("show.viewer",e.show),this.trigger("show.viewer").isDefaultPrevented()||(this.$body.addClass("viewer-open"),t=this.$viewer.removeClass(a),this.$element.one("shown.viewer",i.proxy(function(){this.view(this.target?this.$images.index(this.target):this.index),this.target=!1},this)),e.transition?(this.transitioning=!0,t.addClass(u),Y(t[0]),t.one("transitionend",i.proxy(this.shown,this)).addClass(c)):(t.addClass(c),this.shown())))},hide:function(){var t=this.options,e=this.$viewer;t.inline||this.transitioning||!this.isShown||(i.isFunction(t.hide)&&this.$element.one("hide.viewer",t.hide),this.trigger("hide.viewer").isDefaultPrevented()||(this.isViewed&&t.transition?(this.transitioning=!0,this.$image.one("transitionend",i.proxy(function(){e.one("transitionend",i.proxy(this.hidden,this)).removeClass(c)},this)),this.zoomTo(0,!1,!1,!0)):(e.removeClass(c),this.hidden())))},view:function(t){var e,s,n,o,a,h=this.$title;t=Number(t)||0,!this.isShown||this.isPlayed||t<0||t>=this.length||this.isViewed&&t===this.index||this.trigger("view.viewer").isDefaultPrevented()||(o=(n=(s=this.$items.eq(t)).find("img")).data("originalUrl"),a=n.attr("alt"),this.$image=e=i('<img src="'+o+'" alt="'+a+'">'),this.isViewed&&this.$items.eq(this.index).removeClass("viewer-active"),s.addClass("viewer-active"),this.isViewed=!1,this.index=t,this.image=null,this.$canvas.html(e.addClass("viewer-invisible")),this.renderList(),h.empty(),this.$element.one("viewed.viewer",i.proxy(function(){var i=this.image;i.naturalWidth,i.naturalHeight;h.html(a)},this)),e[0].complete?this.load():(e.one("load.viewer",i.proxy(this.load,this)),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(i.proxy(function(){e.removeClass("viewer-invisible"),this.timeout=!1},this),1e3)))},prev:function(){this.view(y(this.index-1,0))},next:function(){this.view(b(this.index+1,this.length-1))},move:function(i,t){var e=this.image;this.moveTo(z(i)?i:e.left+x(i),z(t)?t:e.top+x(t))},moveTo:function(i,t){var e=this.image,s=!1;z(t)&&(t=i),i=x(i),t=x(t),this.isViewed&&!this.isPlayed&&this.options.movable&&(C(i)&&(e.left=i,s=!0),C(t)&&(e.top=t,s=!0),s&&this.renderImage())},zoom:function(i,t,e){var s=this.image;i=(i=x(i))<0?1/(1-i):1+i,this.zoomTo(s.width*i/s.naturalWidth,t,e)},zoomTo:function(t,e,s,n){var o,a,h,r,l,d,c,u,v,m=this.options,w=.01,f=100,g=this.image,p=g.width,x=g.height;C(t=y(0,t))&&this.isViewed&&!this.isPlayed&&(n||m.zoomable)&&(n||(w=y(w,m.minZoomRatio),f=b(f,m.maxZoomRatio),t=b(y(t,w),f)),t>.95&&t<1.05&&(t=1),a=g.naturalWidth*t,h=g.naturalHeight*t,s&&(o=s.originalEvent)?(r=this.$viewer.offset(),l=o.touches?(d=o.touches,c=d.length,u=0,v=0,c&&(i.each(d,function(i,t){u+=t.pageX,v+=t.pageY}),u/=c,v/=c),{pageX:u,pageY:v}):{pageX:s.pageX||o.pageX||0,pageY:s.pageY||o.pageY||0},g.left-=(a-p)*((l.pageX-r.left-g.left)/p),g.top-=(h-x)*((l.pageY-r.top-g.top)/x)):(g.left-=(a-p)/2,g.top-=(h-x)/2),g.width=a,g.height=h,g.ratio=t,this.renderImage(),e&&this.tooltip())},rotate:function(i){this.rotateTo((this.image.rotate||0)+x(i))},rotateTo:function(i){var t=this.image;C(i=x(i))&&this.isViewed&&!this.isPlayed&&this.options.rotatable&&(t.rotate=i,this.renderImage())},scale:function(i,t){var e=this.image,s=!1;z(t)&&(t=i),i=x(i),t=x(t),this.isViewed&&!this.isPlayed&&this.options.scalable&&(C(i)&&(e.scaleX=i,s=!0),C(t)&&(e.scaleY=t,s=!0),s&&this.renderImage())},scaleX:function(i){this.scale(i,this.image.scaleY)},scaleY:function(i){this.scale(this.image.scaleX,i)},play:function(){var t,e=this.options,s=this.$player,n=i.proxy(this.loadImage,this),a=[],h=0,r=0;this.isShown&&!this.isPlayed&&(e.fullscreen&&this.requestFullscreen(),this.isPlayed=!0,s.addClass(o),this.$items.each(function(t){var o=i(this),l=o.find("img"),v=i('<img src="'+l.data("originalUrl")+'" alt="'+l.attr("alt")+'">');h++,v.addClass(d).toggleClass(u,e.transition),o.hasClass("viewer-active")&&(v.addClass(c),r=t),a.push(v),v.one("load.viewer",{filled:!1},n),s.append(v)}),C(e.interval)&&e.interval>0&&(t=i.proxy(function(){this.playing=setTimeout(function(){a[r].removeClass(c),a[r=++r<h?r:0].addClass(c),t()},e.interval)},this),h>1&&t()))},stop:function(){this.isPlayed&&(this.options.fullscreen&&this.exitFullscreen(),this.isPlayed=!1,clearTimeout(this.playing),this.$player.removeClass(o).empty())},full:function(){var t=this.options,e=this.$image,s=this.$list;this.isShown&&!this.isPlayed&&!this.isFulled&&t.inline&&(this.isFulled=!0,this.$body.addClass("viewer-open"),this.$button.addClass("viewer-fullscreen-exit"),t.transition&&(e.removeClass(u),s.removeClass(u)),this.$viewer.addClass(n).removeAttr("style").css("z-index",t.zIndex),this.initContainer(),this.viewer=i.extend({},this.container),this.renderList(),this.initImage(i.proxy(function(){this.renderImage(function(){t.transition&&setTimeout(function(){e.addClass(u),s.addClass(u)},0)})},this)))},exit:function(){var t=this.options,e=this.$image,s=this.$list;this.isFulled&&(this.isFulled=!1,this.$body.removeClass("viewer-open"),this.$button.removeClass("viewer-fullscreen-exit"),t.transition&&(e.removeClass(u),s.removeClass(u)),this.$viewer.removeClass(n).css("z-index",t.zIndexInline),this.viewer=i.extend({},this.parent),this.renderViewer(),this.renderList(),this.initImage(i.proxy(function(){this.renderImage(function(){t.transition&&setTimeout(function(){e.addClass(u),s.addClass(u)},0)})},this)))},tooltip:function(){var t=this.options,e=this.$tooltip,s=this.image,n=[o,d,u].join(" ");this.isViewed&&!this.isPlayed&&t.tooltip&&(e.text(f(100*s.ratio)+"%"),this.tooltiping?clearTimeout(this.tooltiping):t.transition?(this.fading&&e.trigger("transitionend"),e.addClass(n),Y(e[0]),e.addClass(c)):e.addClass(o),this.tooltiping=setTimeout(i.proxy(function(){t.transition?(e.one("transitionend",i.proxy(function(){e.removeClass(n),this.fading=!1},this)).removeClass(c),this.fading=!0):e.removeClass(o),this.tooltiping=!1},this),1e3))},toggle:function(){1===this.image.ratio?this.zoomTo(this.initialImage.ratio,!0):this.zoomTo(1,!0)},reset:function(){this.isViewed&&!this.isPlayed&&(this.image=i.extend({},this.initialImage),this.renderImage())},update:function(){var t,e=this.$element,s=this.$images,n=[];if(this.isImg){if(!e.parent().length)return this.destroy()}else this.$images=s=e.find("img"),this.length=s.length;this.isBuilt&&(i.each(this.$items,function(t){var e=i(this).find("img")[0],o=s[t];o?o.src!==e.src&&n.push(t):n.push(t)}),this.$list.width("auto"),this.initList(),this.isShown&&(this.length?this.isViewed&&((t=i.inArray(this.index,n))>=0?(this.isViewed=!1,this.view(y(this.index-(t+1),0))):this.$items.eq(this.index).addClass("viewer-active")):(this.$image=null,this.isViewed=!1,this.index=0,this.image=null,this.$canvas.empty(),this.$title.empty())))},destroy:function(){var i=this.$element;this.options.inline?this.unbind():(this.isShown&&this.unbind(),i.off("click.viewer",this.start)),this.unbuild(),i.removeData("viewer")},trigger:function(t,e){var s=i.Event(t,e);return this.$element.trigger(s),s},shown:function(){var t=this.options;this.transitioning=!1,this.isFulled=!0,this.isShown=!0,this.isVisible=!0,this.render(),this.bind(),i.isFunction(t.shown)&&this.$element.one("shown.viewer",t.shown),this.trigger("shown.viewer")},hidden:function(){var t=this.options;this.transitioning=!1,this.isViewed=!1,this.isFulled=!1,this.isShown=!1,this.isVisible=!1,this.unbind(),this.$body.removeClass("viewer-open"),this.$viewer.addClass(a),this.resetList(),this.resetImage(),i.isFunction(t.hidden)&&this.$element.one("hidden.viewer",t.hidden),this.trigger("hidden.viewer")},requestFullscreen:function(){var i=document.documentElement;!this.isFulled||document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||(i.requestFullscreen?i.requestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen&&i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))},exitFullscreen:function(){this.isFulled&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())},change:function(i){var t,e,s,n,o,a=this.endX-this.startX,h=this.endY-this.startY;switch(this.action){case"move":this.move(a,h);break;case"zoom":this.zoom((t=p(this.startX-this.startX2),e=p(this.startY-this.startY2),s=p(this.endX-this.endX2),n=p(this.endY-this.endY2),o=g(t*t+e*e),(g(s*s+n*n)-o)/o),!1,i),this.startX2=this.endX2,this.startY2=this.endY2;break;case"switch":this.action="switched",p(a)>p(h)&&(a>1?this.prev():a<-1&&this.next())}this.startX=this.endX,this.startY=this.endY},isSwitchable:function(){var i=this.image,t=this.viewer;return i.left>=0&&i.top>=0&&i.width<=t.width&&i.height<=t.height}},P.DEFAULTS={inline:!1,button:!0,navbar:!0,title:!0,toolbar:!0,tooltip:!0,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,transition:!0,fullscreen:!0,keyboard:!0,interval:5e3,minWidth:200,minHeight:100,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,zIndex:2015,zIndexInline:0,url:"src",build:null,built:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null},P.TEMPLATE='<div class="viewer-container"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><ul class="viewer-toolbar"><li class="viewer-zoom-in" data-action="zoom-in"></li><li class="viewer-zoom-out" data-action="zoom-out"></li><li class="viewer-one-to-one" data-action="one-to-one"></li><li class="viewer-reset" data-action="reset"></li><li class="viewer-prev" data-action="prev"></li><li class="viewer-play" data-action="play"></li><li class="viewer-next" data-action="next"></li><li class="viewer-rotate-left" data-action="rotate-left"></li><li class="viewer-rotate-right" data-action="rotate-right"></li><li class="viewer-flip-horizontal" data-action="flip-horizontal"></li><li class="viewer-flip-vertical" data-action="flip-vertical"></li></ul><div class="viewer-navbar"><ul class="viewer-list"></ul></div></div><div class="viewer-tooltip"></div><div class="viewer-button" data-action="mix"></div><div class="viewer-player"></div></div>',P.other=i.fn.viewer,i.fn.viewer=function(t){var e,s=F(arguments,1);return this.each(function(){var n,o=i(this),a=o.data("viewer");if(!a){if(/destroy|hide|exit|stop|reset/.test(t))return;o.data("viewer",a=new P(this,t))}$(t)&&i.isFunction(n=a[t])&&(e=n.apply(a,s))}),z(e)?this:e},i.fn.viewer.Constructor=P,i.fn.viewer.setDefaults=P.setDefaults,i.fn.viewer.noConflict=function(){return i.fn.viewer=P.other,this}})